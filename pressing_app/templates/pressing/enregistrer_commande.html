
{% extends "pressing/index.html" %}

{% load static %}

{% block script %}
<script>
    const AJAX_AJOUTER_CLIENT_URL = "{% url 'ajax_ajouter_client' %}";
</script>
<script src="{% static 'js/enregistrer_commande.js' %}"></script>
{% endblock %}

{% block title %}Enregistrer une Commande{% endblock %}
<h2>TEST FORM CLIENT</h2>
{{ client_form }}

{% block content %}
<h2>Enregistrer une commande</h2>

<form method="POST" id="commande-form">
    {% csrf_token %}
    {{ form.as_p }}

    <button type="submit">Enregistrer la commande</button>
    <button type="button" id="openModal">Ajouter un nouveau client</button>
</form>

<!-- Modal -->
<div id="clientModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5);">
    <div style="background:white; width:400px; margin:100px auto; padding:20px; position:relative;">
        <span id="closeModal" style="position:absolute; top:10px; right:10px; cursor:pointer;">&times;</span>
        <h3>Ajouter un client</h3>
        <form id="client-form">
            {% csrf_token %}
            {{ client_form.as_p }}
            <button type="submit">Enregistrer le client</button>
        </form>
        <div id="client-message"></div>
    </div>
</div>

{% endblock %}
